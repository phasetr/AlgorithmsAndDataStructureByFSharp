5章 究極の機械
=======================

DFA、NFA、DPDA、NPDAはいずれもハードコードされた一つのアルゴリズムしか実行できなかった。
これを任意のプログラムを実行できるような機械にすることはできないだろうか。

1930年代に、アラン・チューリング(Alan Turing)がこの問題に取り組み、もっとも単純で実現可能な「自動機械(Automatic machine)」を作り出した。


5.1 決定性チューリングマシン
-----------------------

プッシュダウン・オートマトンはスタックを使うことで能力を高めたけれど、情報の取り出し方と保存の仕方に制限が付きまとい、結局能力に限界があった。

もっと柔軟なストレージはないだろうか。

### 5.1.1 ストレージ

チューリングのとった解決策は、機械に無限の長さの空白のテープを持たせて、テープの任意の場所に文字を読み書きできるようにすることだった。

無限の長さのテープにアクセスする有限状態機械のことをチューリングマシン（TM: Turing Machine)と呼ぶ。あいまいさをなくすために決定性チューリングマシン（DTM: Deterministic Turing Machine)と呼ぶこともある。

テープへのアクセスはテープヘッドを使う。テープヘッドは特定の位置を表し、機械はその位置にある文字だけを読み書きすることができる。計算を1ステップ実行するたびに機械はテープヘッドを左右どちらかに1マス動かすことができる。


### 5.1.2 規則

チューリングマシンに実行させたい「単純な操作」を考える。規則形式を決めておくと物事を単純にすることができる。

- 機械の現在の状態
- テープヘッドの現在の位置にあるはずの文字
- 機械の次の状態
- テープヘッドの現在の位置に書くべき文字
- テープに書いた後、ヘッドを動かす方向（左か右）

`a/b;R`という規則は、テープから文字aを読み、文字bを書き、テープヘッドを右に1マス動かす、という規則を表す。

ということでDTMのシミュレーションをRubyで書いてゆく。

詳しくは[dtm.rb](dtm.rb) および [dtm_run.rb](dtm_run.rb)を参照のこと。

### 能力を高める

チューリングマシンの能力は考えうる限り最大である。なぜならば決定性チューリングマシンに機能拡張を施す場合、いずれの機能も決定性チューリングマシンでシミュレートできるからである。

- 非決定性を導入した非決定性チューリングマシン
- 内部ストレージ
- サブルーチン
- 複数のテープ
- 多次元のテープ

いずれの機能拡張も、チューリングマシンに新たな能力を付与することはできない。

5.4 汎用機械
-------------------------

今まで登場した機械はハードコードされた規則以外の役には立たなかった。
回文を認識するNPDAは回文以外認識することはできない。

どんな仕事にも使える汎用的な機械は作れないだろうか。現実世界のコンピュータはどんな仕事にも使える汎用機械として動作している。これはどうやれば実現できるのか。

実はチューリングマシンはテープに書かれた規則に従って、任意の仕事を実行できる。機械はチューリングマシンの規則のインタプリタとして動く。万能チューリングマシン(UTM: Universal Turing Machine)と言う。
